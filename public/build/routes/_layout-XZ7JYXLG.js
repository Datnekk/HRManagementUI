import{a as le}from"/build/_shared/chunk-GOIIZVBY.js";import{a as E,b as _}from"/build/_shared/chunk-AAXIJDTX.js";import{a as C,f as z}from"/build/_shared/chunk-G5K32BIS.js";import{E as O,w as P}from"/build/_shared/chunk-QHNMJF3C.js";import{c as F,d as H,e as q,g as V,j as J,n as K,o as Q,p as X,t as h,v as Y,x as Z,y as w}from"/build/_shared/chunk-64HTMGLV.js";import{A as T,B as M,C as B,G as D,I as y,P as d,R,U as u,_ as U,da as I,ea as W,m as G,r as s,y as S}from"/build/_shared/chunk-GKEYVIAD.js";import{a as v,c}from"/build/_shared/chunk-TQC3RT7F.js";import{c as t}from"/build/_shared/chunk-Q3IECNXJ.js";var j=t(v(),1);var $=t(c(),1),A=({children:a,to:r,...o})=>(0,$.jsx)(C,{...o,to:E({to:r}),children:a});var n=t(c(),1);function ee({icon:a,label:r,initiallyOpened:o,links:l,link:p,end:g,collapsed:m}){let L=Array.isArray(l),[k,ae]=(0,j.useState)(o||!1),re=(L?l:[]).map(b=>(0,n.jsx)(A,{className:({isActive:f,isPending:N})=>s("block font-medium pl-8 pr-4 py-2 ml-6 border-l border-[--mantine-color-dark-0] text-[--mantine-color-gray-7] hover:bg-[--mantine-color-gray-0]",{"bg-[--mantine-color-blue-0]":f,"bg-[--mantine-color-gray-1]":N}),to:b.link,children:b.label},b.label)),x="block px-2 py-2 w-full font-medium hover:bg-[--mantine-color-gray-0]";return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(({children:b})=>p?(0,n.jsx)(A,{className:({isActive:f,isPending:N})=>s(x,{"bg-[--mantine-color-blue-0]":f,"bg-[--mantine-color-gray-1]":N}),to:p??"#",end:g,children:b}):(0,n.jsx)(B,{className:x,onClick:()=>ae(f=>!f),children:b}),{children:(0,n.jsxs)(y,{justify:"space-between",gap:0,children:[m?(0,n.jsx)(U,{label:r,position:"right",withArrow:!0,withinPortal:!0,zIndex:2e3,children:(0,n.jsx)(I,{variant:"transparent",color:"dark",size:30,children:a})}):(0,n.jsxs)(S,{style:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(I,{variant:"transparent",color:"dark",size:30,children:a}),(0,n.jsx)(S,{ml:"md",children:r})]}),L&&(0,n.jsx)(V,{stroke:1.5,size:16,className:s("transition-all",{"transform-none":!k,"-rotate-180":k}),style:{transform:k?"rotate(-90deg)":"none"}})]})}),L?(0,n.jsx)(T,{in:k,children:re}):null]})}var i=t(c(),1),ne=t(v(),1);function oe({collapsed:a,roles:r}){let o=r?.includes("Admin"),l=r?.includes("HR"),g=ie(o,l).map(m=>(0,ne.createElement)(ee,{...m,key:m.label,collapsed:a}));return(0,i.jsx)("div",{children:g})}var ie=(a,r)=>{let o=[{label:"Attendance",icon:(0,i.jsx)(H,{}),initiallyOpened:!0,link:"/attendance"},{label:"Leave",icon:(0,i.jsx)(Y,{}),initiallyOpened:!0,link:"/leave"},{label:"Payroll",icon:(0,i.jsx)(q,{}),initiallyOpened:!0,link:"/pay-roll"},{label:"Settings",icon:(0,i.jsx)(h,{}),initiallyOpened:!0,link:"/settings"}],l=[];a?l.push({label:"Dashboard",icon:(0,i.jsx)(J,{}),initiallyOpened:!0,link:"/dashboard"},{label:"Organization",icon:(0,i.jsx)(F,{}),initiallyOpened:!0,link:"/organization"},{label:"Employees",icon:(0,i.jsx)(w,{}),initiallyOpened:!0,link:"/employee"}):r&&l.push({label:"Employees",icon:(0,i.jsx)(w,{}),initiallyOpened:!0,link:"/employee"});let p=new Set;return[...l,...o].filter(m=>p.has(m.label)?!1:(p.add(m.label),!0))};var se=t(le(),1),e=t(c(),1);function te(){let a=z(),r=O(),[o,l]=G({key:"navbar-collapsed",defaultValue:!1}),p=()=>{l(!o)};return(0,e.jsxs)(d,{navbar:{width:o?80:250,breakpoint:"sm"},padding:"md",children:[(0,e.jsxs)(d.Navbar,{p:"md",className:s("z-[1001]",o?"w-20":"w-64"),children:[(0,e.jsx)(d.Section,{pb:"md",children:(0,e.jsxs)(y,{justify:o?"center":"space-between",align:"center",children:[(0,e.jsx)(W,{className:s("text-sm",o&&"hidden"),children:"UMS"}),(0,e.jsx)(D,{variant:"light",onClick:p,size:"lg",children:o?(0,e.jsx)(Q,{size:24,className:"bg-[--mantine-color-blue-0] text-black"}):(0,e.jsx)(K,{size:24,className:"bg-[--mantine-color-blue-0] text-black"})})]})}),(0,e.jsx)(d.Section,{grow:!0,my:"md",component:M,children:(0,e.jsx)(oe,{collapsed:o,roles:a.roles})}),(0,e.jsx)(d.Section,{children:(0,e.jsxs)(u,{shadow:"md",position:"right-end",withArrow:!0,arrowPosition:"center",trigger:"click-hover",withinPortal:!1,trapFocus:!1,menuItemTabIndex:0,children:[(0,e.jsx)(u.Target,{children:(0,e.jsx)(R,{className:s("w-full",!o&&"px-0"),variant:"subtle",justify:"space-between",leftSection:(0,e.jsx)(Z,{size:18}),children:(0,e.jsx)("span",{className:s(o&&"hidden"),children:a.email})})}),(0,e.jsxs)(u.Dropdown,{children:[(0,e.jsx)(u.Item,{component:_,to:"/account/change-password",leftSection:(0,e.jsx)(h,{size:14}),children:"Settings"}),(0,e.jsx)(u.Divider,{}),(0,e.jsx)(u.Item,{color:"red",leftSection:(0,e.jsx)(X,{size:14}),onClick:()=>r(null,{method:"POST",action:"/signout"}),children:"Sign Out"})]})]})})]}),(0,e.jsx)(d.Main,{className:"pt-[calc(1rem*1)]",children:(0,e.jsx)(P,{})})]})}export{te as default};
